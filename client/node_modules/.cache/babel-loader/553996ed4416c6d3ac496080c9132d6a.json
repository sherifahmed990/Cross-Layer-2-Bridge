{"ast":null,"code":"var _jsxFileName = \"/home/sherif/code/crypto/bridge/react/client/src/components/SourceRollupBountyPanel.js\";\nimport React from \"react\";\nimport Tickets from \"./Tickets\";\nimport { getEthereum } from \"../getEthereum\";\nimport { getWeb3 } from \"../getWeb3\";\nimport { getContract } from \"../getContract\";\nimport { GlobalContext } from '../context/GlobalState';\n\nconst SourceRollupBountyPanel = () => {\n  const {\n    sourceSideContract\n  } = useContext(GlobalContext);\n\n  let createTicket = async e => {\n    const ethereum = await getEthereum();\n    let ssbridge = await getContract();\n    const web3 = await getWeb3();\n    var gasPrice = await web3.eth.getGasPrice();\n    const accounts = await ethereum.request({\n      method: 'eth_requestAccounts'\n    });\n    let encodedABI = ssbridge.methods.createTicket().encodeABI();\n    var tx = {\n      from: accounts[0],\n      to: sourceSideContract,\n      data: encodedABI //gasPrice: gasPrice\n\n    };\n    console.log(`Transacton`);\n    console.log(tx); //const {web3} = this.state\n    //const ethereum = await getEthereum()\n\n    const sentTx = await ethereum.request({\n      method: 'eth_sendTransaction',\n      params: [tx]\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    onClick: createTicket,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \"Create Ticket\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Tickets, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default SourceRollupBountyPanel;","map":{"version":3,"sources":["/home/sherif/code/crypto/bridge/react/client/src/components/SourceRollupBountyPanel.js"],"names":["React","Tickets","getEthereum","getWeb3","getContract","GlobalContext","SourceRollupBountyPanel","sourceSideContract","useContext","createTicket","e","ethereum","ssbridge","web3","gasPrice","eth","getGasPrice","accounts","request","method","encodedABI","methods","encodeABI","tx","from","to","data","console","log","sentTx","params"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AACA,SAAQC,OAAR,QAAsB,YAAtB;AACA,SAAQC,WAAR,QAA0B,gBAA1B;AACA,SAAQC,aAAR,QAA4B,wBAA5B;;AAGA,MAAMC,uBAAuB,GAAG,MAAM;AAClC,QAAM;AAACC,IAAAA;AAAD,MAAuBC,UAAU,CAACH,aAAD,CAAvC;;AAEA,MAAII,YAAY,GAAG,MAAOC,CAAP,IAAa;AAC5B,UAAMC,QAAQ,GAAG,MAAMT,WAAW,EAAlC;AACA,QAAIU,QAAQ,GAAI,MAAMR,WAAW,EAAjC;AACA,UAAMS,IAAI,GAAG,MAAMV,OAAO,EAA1B;AACA,QAAIW,QAAQ,GAAG,MAAMD,IAAI,CAACE,GAAL,CAASC,WAAT,EAArB;AAEA,UAAMC,QAAQ,GAAG,MAAMN,QAAQ,CAACO,OAAT,CAAiB;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAAjB,CAAvB;AAEA,QAAIC,UAAU,GAAGR,QAAQ,CAACS,OAAT,CAAiBZ,YAAjB,GAAgCa,SAAhC,EAAjB;AAEA,QAAIC,EAAE,GAAG;AACLC,MAAAA,IAAI,EAAEP,QAAQ,CAAC,CAAD,CADT;AAELQ,MAAAA,EAAE,EAAElB,kBAFC;AAGLmB,MAAAA,IAAI,EAAEN,UAHD,CAIL;;AAJK,KAAT;AAOAO,IAAAA,OAAO,CAACC,GAAR,CAAa,YAAb;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYL,EAAZ,EAlB4B,CAmB5B;AAEE;;AACA,UAAMM,MAAM,GAAG,MAAMlB,QAAQ,CAACO,OAAT,CAAiB;AACpCC,MAAAA,MAAM,EAAE,qBAD4B;AAEpCW,MAAAA,MAAM,EAAE,CAACP,EAAD;AAF4B,KAAjB,CAArB;AAKL,GA3BD;;AA6BA,sBAAO,uDACH;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,iBAAhC;AAAkD,IAAA,OAAO,EAAEd,YAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADG,eAEH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFG,eAGH,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHG,CAAP;AAMH,CAtCD;;AAwCA,eAAeH,uBAAf","sourcesContent":["import React from \"react\"\nimport Tickets from \"./Tickets\";\nimport {getEthereum} from \"../getEthereum\"\nimport {getWeb3} from \"../getWeb3\"\nimport {getContract} from \"../getContract\"\nimport {GlobalContext} from '../context/GlobalState';\n\n\nconst SourceRollupBountyPanel = () => {\n    const {sourceSideContract} = useContext(GlobalContext);\n\n    let createTicket = async (e) => {\n        const ethereum = await getEthereum()\n        let ssbridge =  await getContract()\n        const web3 = await getWeb3()\n        var gasPrice = await web3.eth.getGasPrice();\n        \n        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });\n    \n        let encodedABI = ssbridge.methods.createTicket().encodeABI()\n    \n        var tx = {\n            from: accounts[0],\n            to: sourceSideContract,\n            data: encodedABI,\n            //gasPrice: gasPrice\n        };\n        \n        console.log(`Transacton`)\n        console.log(tx)\n        //const {web3} = this.state\n    \n          //const ethereum = await getEthereum()\n          const sentTx = await ethereum.request({\n            method: 'eth_sendTransaction',\n            params: [tx],\n          }); \n        \n    }\n\n    return(<>\n        <button type=\"submit\" className=\"btn btn-primary\" onClick={createTicket}>Create Ticket</button>\n        <hr/>\n        <Tickets />\n        </>\n    );\n}\n\nexport default SourceRollupBountyPanel"]},"metadata":{},"sourceType":"module"}